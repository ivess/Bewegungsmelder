#N canvas 754 31 910 947 10;
#X declare -lib Gem;
#X obj 27 7 cnv 15 400 50 empty empty 7 14 24 0 24 -175655 -66577 0
;
#X text 75 16 Pure data + Gem;
#X text 28 897 Max Neupert \, GMU - Bauhaus University Weimar 2013
;
#X text 75 29 Tracking multible blobs;
#X obj 27 92 declare -lib Gem;
#X obj 279 63 gemhead;
#X obj 279 776 pix_texture;
#X obj 279 820 rectangle 4 3;
#X obj 673 304 pix_gain;
#X obj 732 304 pix_levels;
#X obj 799 304 pix_curve;
#X obj 366 680 list split 3;
#X obj 366 896 unpack s f f;
#X obj 400 918 s blobcount;
#X obj 400 702 showblob 1;
#X obj 716 173 pix_video;
#X text 671 151 replace [pix_film] with;
#X text 702 193 for live video;
#X text 702 281 you may also try:;
#N canvas 555 599 616 311 init 0;
#X obj 98 29 loadbang;
#X obj 243 100 send contrast;
#X obj 210 122 send saturation;
#X msg 210 96 2.5;
#X msg 243 74 1.3;
#X obj 174 144 send low_threshold;
#X msg 174 122 0.04;
#X msg 137 148 1;
#X obj 137 170 send high_threshold;
#X obj 101 196 send threshold;
#X msg 101 174 0.15;
#X obj 64 220 send blobsize;
#X msg 64 197 0.2;
#X text 226 26 this thing initializes all the sliders;
#X connect 0 0 4 0;
#X connect 0 0 3 0;
#X connect 0 0 6 0;
#X connect 0 0 7 0;
#X connect 0 0 10 0;
#X connect 0 0 12 0;
#X connect 3 0 2 0;
#X connect 4 0 1 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 10 0 9 0;
#X connect 12 0 11 0;
#X restore 28 68 pd init;
#X obj 155 774 pix_texture;
#X obj 155 818 rectangle 4 3;
#X obj 155 388 pix_separator;
#X obj 279 386 pix_separator;
#X obj 274 237 cnv 15 220 130 empty empty empty 20 12 0 14 -204786
-66577 0;
#X obj 279 343 pix_contrast;
#X obj 316 254 hsl 99 15 0 10 0 0 empty contrast contrast -2 -8 0 10
-262144 -1 -1 1274 1;
#X floatatom 319 273 5 0 0 0 - - -;
#X obj 351 303 hsl 99 15 0 10 0 0 empty saturation saturation -2 -8
0 10 -262144 -1 -1 2450 1;
#X floatatom 355 324 5 0 0 0 - - -;
#X obj 274 91 cnv 15 220 142 empty empty empty 20 12 0 14 -262130 -66577
0;
#X obj 301 194 unpack f f f f;
#X obj 301 214 send frames;
#X obj 403 132 receive frames;
#X floatatom 335 175 5 0 0 0 - - -;
#X obj 324 152 float;
#X obj 388 152 %;
#X obj 279 174 pix_film;
#N canvas 1126 98 165 233 open 0;
#X obj 16 17 inlet;
#X obj 28 127 loadbang;
#X obj 16 179 outlet;
#X obj 16 47 openpanel;
#X msg 16 67 open \$1;
#X msg 28 148 open specimen.mov;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X restore 329 118 pd open;
#X obj 279 117 t a b;
#X text 497 89 video file playback;
#X text 495 235 video processing;
#X obj 26 114 cnv 15 220 130 empty empty empty 20 12 0 14 -261234 -66577
0;
#X msg 44 174 0 \, destroy;
#X obj 31 221 gemwin 10;
#X text 31 130 window control (click this!);
#X text 698 66 suggestions:;
#X obj 272 414 cnv 15 220 130 empty empty empty 20 12 0 14 -204800
-66577 0;
#X obj 279 522 pix_movement2;
#X floatatom 322 450 5 0 0 0 - - -;
#X floatatom 360 504 5 0 0 0 - - -;
#X obj 357 483 hsl 99 15 0 1 0 0 empty high_threshold high_threshold
-2 -8 0 10 -262144 -1 -1 9800 1;
#X obj 319 432 hsl 99 15 0 1 0 0 empty low_threshold low_threshold
-2 -8 0 10 -262144 -1 -1 392 1;
#X text 501 414 movement detection;
#X text 502 428 (difference between subsequent frames);
#X text 503 457 high can't be smaller than low!;
#X obj 362 152 + 2;
#X obj 329 96 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 350 94 open video file;
#X obj 400 723 showblob 2;
#X obj 400 786 showblob 5;
#X obj 400 744 showblob 3;
#X obj 400 765 showblob 4;
#X obj 400 807 showblob 6;
#X obj 400 828 showblob 7;
#X obj 400 849 showblob 8;
#X obj 400 870 showblob 9;
#X obj 272 547 cnv 15 220 130 empty empty empty 20 12 0 14 -203904
-66577 0;
#X obj 279 657 pix_multiblob 9;
#X msg 319 580 threshold \$1;
#X msg 354 632 blobSize \$1;
#X obj 357 614 hsl 99 15 0 1 0 0 empty blobsize blobsize -2 -8 0 10
-262144 -1 -1 1960 1;
#X obj 322 562 hsl 99 15 0 1 0 0 empty threshold threshold -2 -8 0
10 -262144 -1 -1 1470 1;
#X text 497 545 blob detection;
#X text 494 559 (groups of adjacent pixels are a blob);
#X text 422 385 <---------- multiplying and unlinking the pixel information
;
#X text 133 91 load Gem library;
#X msg 31 151 dimen 800 400 \, view -4 0 4 0 \, create \, 1;
#X obj 155 743 translateXYZ -8 0 0;
#X msg 51 199 color 0.5 0.5 0.5 \, frame 6;
#X text 499 64 explanation:;
#X text 154 838 the left image;
#X text 154 853 processed;
#X text 273 839 the right image;
#X text 274 855 blobs;
#X connect 5 0 39 0;
#X connect 6 0 7 0;
#X connect 11 0 12 0;
#X connect 11 1 14 0;
#X connect 12 1 13 0;
#X connect 14 0 59 0;
#X connect 20 0 21 0;
#X connect 22 0 78 0;
#X connect 23 0 48 0;
#X connect 25 0 23 0;
#X connect 25 0 22 0;
#X connect 26 0 25 1;
#X connect 26 0 27 0;
#X connect 28 0 29 0;
#X connect 28 0 25 2;
#X connect 31 0 32 0;
#X connect 33 0 36 1;
#X connect 35 0 34 0;
#X connect 35 0 37 1;
#X connect 35 0 56 0;
#X connect 36 0 35 1;
#X connect 37 0 25 0;
#X connect 37 1 31 0;
#X connect 38 0 37 0;
#X connect 39 0 37 0;
#X connect 39 1 35 0;
#X connect 43 0 44 0;
#X connect 48 0 68 0;
#X connect 51 0 48 2;
#X connect 51 0 50 0;
#X connect 52 0 48 1;
#X connect 52 0 49 0;
#X connect 56 0 36 0;
#X connect 57 0 38 0;
#X connect 59 0 61 0;
#X connect 60 0 63 0;
#X connect 61 0 62 0;
#X connect 62 0 60 0;
#X connect 63 0 64 0;
#X connect 64 0 65 0;
#X connect 65 0 66 0;
#X connect 68 0 6 0;
#X connect 68 1 11 0;
#X connect 69 0 68 0;
#X connect 70 0 68 0;
#X connect 71 0 70 0;
#X connect 72 0 69 0;
#X connect 77 0 44 0;
#X connect 78 0 20 0;
#X connect 79 0 44 0;
