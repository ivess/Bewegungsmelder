#N canvas 482 22 924 965 10;
#X declare -lib Gem;
#X obj 27 7 cnv 15 400 50 empty empty 7b 14 24 0 24 -175655 -66577
0;
#X text 75 16 Pure data + Gem;
#X obj 604 12 declare -lib Gem;
#X obj 149 785 pix_texture;
#X obj 149 829 rectangle 4 3;
#X obj 426 343 pix_gain;
#X obj 485 343 pix_levels;
#X obj 553 343 pix_curve;
#X obj 236 974 list split 3;
#X obj 469 182 pix_video;
#X text 424 160 replace [pix_film] with;
#X text 455 202 for live video;
#X text 455 320 you may also try:;
#N canvas 157 56 465 375 init 0;
#X obj 15 31 loadbang;
#X obj 339 130 send contrast;
#X obj 306 152 send saturation;
#X msg 306 126 2.5;
#X msg 339 104 1.3;
#X obj 270 174 send low_threshold;
#X msg 270 152 0.04;
#X msg 233 178 1;
#X obj 233 200 send high_threshold;
#X obj 197 226 send threshold;
#X msg 197 204 0.15;
#X obj 160 250 send blobsize;
#X msg 160 227 0.2;
#X obj 120 277 send border_area_size;
#X obj 85 305 send max_time_in_border_area;
#X obj 7 362 send max_manhattan_distance;
#X msg 7 329 0.15;
#X msg 47 312 1000;
#X msg 85 282 250;
#X obj 47 335 send max_time_at_all;
#X msg 120 254 0.1;
#N canvas 301 456 450 300 blob_lists 0;
#X obj 24 37 inlet;
#X obj 262 23 cnv 15 115 100 empty empty empty 20 12 0 14 -261234 -66577
0;
#X obj 268 30 table blob_ids;
#X obj 268 52 table blob_x;
#X obj 268 74 table blob_y;
#X msg 71 119 \; blob_ids resize 1 \; blob_ids 0 -1;
#X msg 55 174 \; blob_x resize 1 \; blob_x 0 -1;
#X msg 39 230 \; blob_y resize 1 \; blob_y 0 -1;
#X obj 268 97 table blob_times;
#X obj 87 92 s reset_time;
#X obj 24 67 t b b b b b;
#X msg 24 285 \; blob_times resize 1 \; blob_times 0 -1;
#X connect 0 0 10 0;
#X connect 10 0 11 0;
#X connect 10 1 7 0;
#X connect 10 2 6 0;
#X connect 10 3 5 0;
#X connect 10 4 9 0;
#X restore 341 77 pd blob_lists;
#X text 152 31 this thing initializes all the sliders and values;
#X obj 4 10 inlet;
#X obj 6 56 t b b b b b b b b b b b;
#X connect 0 0 24 0;
#X connect 3 0 2 0;
#X connect 4 0 1 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 10 0 9 0;
#X connect 12 0 11 0;
#X connect 16 0 15 0;
#X connect 17 0 19 0;
#X connect 18 0 14 0;
#X connect 20 0 13 0;
#X connect 23 0 24 0;
#X connect 24 0 16 0;
#X connect 24 1 17 0;
#X connect 24 2 18 0;
#X connect 24 3 20 0;
#X connect 24 4 12 0;
#X connect 24 5 10 0;
#X connect 24 6 7 0;
#X connect 24 7 6 0;
#X connect 24 8 3 0;
#X connect 24 9 4 0;
#X connect 24 10 21 0;
#X restore 605 59 pd init;
#X obj 32 783 pix_texture;
#X obj 32 827 rectangle 4 3;
#X obj 27 276 cnv 15 220 130 empty empty empty 20 12 0 14 -204786 -66577
0;
#X obj 32 382 pix_contrast;
#X obj 69 293 hsl 99 15 0 10 0 0 empty contrast contrast -2 -8 0 10
-262144 -1 -1 1274 1;
#X floatatom 72 312 5 0 0 0 - - -;
#X obj 104 342 hsl 99 15 0 10 0 0 empty saturation saturation -2 -8
0 10 -262144 -1 -1 2450 1;
#X floatatom 108 363 5 0 0 0 - - -;
#X obj 27 100 cnv 15 220 155 empty empty empty 20 12 0 14 -262130 -66577
0;
#X obj 54 233 send frames;
#X obj 156 141 receive frames;
#X floatatom 88 184 5 0 0 0 - - -;
#X obj 77 161 float;
#X obj 141 161 %;
#X obj 32 183 pix_film;
#N canvas 1126 98 271 209 open 0;
#X obj 16 17 inlet;
#X obj 28 94 loadbang;
#X obj 16 146 outlet;
#X obj 16 47 openpanel;
#X msg 16 67 open \$1;
#X msg 28 115 open testbed.mov;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X restore 82 127 pd open;
#X obj 32 126 t a b;
#X text 250 98 video file playback;
#X text 248 274 video processing;
#X obj 605 95 cnv 15 220 130 empty empty empty 20 12 0 14 -261234 -66577
0;
#X msg 623 149 0 \, destroy;
#X text 610 105 window control (click this!);
#X text 451 75 suggestions:;
#X obj 142 453 cnv 15 220 130 empty empty empty 20 12 0 14 -204800
-66577 0;
#X obj 149 561 pix_movement2;
#X floatatom 192 489 5 0 0 0 - - -;
#X floatatom 230 543 5 0 0 0 - - -;
#X obj 227 522 hsl 99 15 0 1 0 0 empty high_threshold high_threshold
-2 -8 0 10 -262144 -1 -1 9800 1;
#X obj 189 471 hsl 99 15 0 1 0 0 empty low_threshold low_threshold
-2 -8 0 10 -262144 -1 -1 392 1;
#X text 371 453 movement detection;
#X text 372 467 (difference between subsequent frames);
#X text 373 496 high can't be smaller than low!;
#X obj 115 161 + 2;
#X obj 82 105 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 103 103 open video file;
#X obj 142 586 cnv 15 220 130 empty empty empty 20 12 0 14 -203904
-66577 0;
#X msg 189 619 threshold \$1;
#X msg 224 671 blobSize \$1;
#X obj 227 653 hsl 99 15 0 1 0 0 empty blobsize blobsize -2 -8 0 10
-262144 -1 -1 1960 1;
#X obj 192 601 hsl 99 15 0 1 0 0 empty threshold threshold -2 -8 0
10 -262144 -1 -1 1470 1;
#X text 367 584 blob detection;
#X text 364 598 (groups of adjacent pixels are a blob);
#X text 710 11 load Gem library;
#X text 252 73 explanation:;
#X text 31 847 the left image;
#X text 31 862 processed;
#X text 143 848 the right image;
#X text 144 864 blobs;
#X obj 54 207 unpack f f f;
#X obj 605 38 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 236 721 t a b;
#X obj 259 779 cnv 15 240 185 empty empty empty 20 12 0 14 -261234
-66577 0;
#X obj 291 795 hsl 128 15 0 1 0 0 empty border_area_size border_area_size
-2 -8 0 10 -262144 -1 -1 1270 1;
#X obj 316 845 hsl 128 15 0 15000 0 0 empty max_time_in_border_area
max_time_in_border_area -2 -8 0 10 -262144 -1 -1 212 1;
#X floatatom 320 865 15 0 0 0 - - -;
#X floatatom 295 815 5 0 0 0 - - -;
#X text 513 1043 Max Neupert \, GMU - Bauhaus University Weimar 2013
;
#X obj 264 998 cnv 15 235 85 empty empty empty 20 12 0 14 -261234 -66577
0;
#X obj 366 1014 hsl 128 15 0 1 0 0 empty max_manhattan_distance max_manhattan_distance
-2 -8 0 10 -262144 -1 -1 1905 1;
#X floatatom 370 1034 5 0 0 0 - - -;
#X obj 149 696 pix_multiblob 9;
#X obj 32 72 gemhead;
#X obj 610 196 gemwin 25;
#X obj 341 898 hsl 128 15 0 10000 0 0 empty max_time_at_all max_time_at_all
-2 -8 0 10 -262144 -1 -1 1270 1;
#X floatatom 347 917 15 0 0 0 - - -;
#X text 514 1056 Additions by Jakob Gomoll 2013;
#X text 625 36 revert to initial settings;
#X text 173 419 <-- multiplying and unlinking the pixel and vertex
content;
#X msg 610 126 dimen 800 400 \, FSAA 4 \, view -4 0 4 0 \, create \,
1;
#N canvas 922 95 454 397 blob_lists 0;
#X obj 41 23 inlet;
#X obj 177 23 inlet;
#X obj 213 23 inlet;
#X obj 41 60 arraysize blob_ids;
#X obj 41 119 until;
#X obj 41 156 f;
#X obj 41 88 t f b;
#X msg 104 119 0;
#X obj 89 156 + 1;
#X obj 60 262 sel -1;
#X obj 93 288 older_than_threshold;
#X obj 93 316 sel -1;
#X obj 355 22 inlet;
#X obj 41 188 t f f f;
#X obj 238 314 sel -1;
#N canvas 381 361 402 514 is_in_border_area 0;
#X obj 48 15 inlet;
#X obj 48 449 outlet;
#X obj 249 15 inlet;
#X floatatom 243 252 5 0 0 2 min_border - -;
#X obj 297 218 -;
#X floatatom 307 251 5 0 0 2 max_border - -;
#X obj 48 378 expr if ($f2 < $f4 || $f2 > $f5 \, $f1 \, -1) \; if ($f3
< $f4 || $f3 > $f5 \, $f1 \, -1);
#X obj 48 423 max;
#X obj 65 324 tabread blob_x;
#X obj 172 324 tabread blob_y;
#X obj 234 146 f;
#X obj 48 44 t f f f b;
#X msg 297 193 1 \$1;
#X obj 234 168 t f f;
#X connect 0 0 11 0;
#X connect 2 0 10 1;
#X connect 4 0 5 0;
#X connect 4 0 6 4;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 1 0;
#X connect 8 0 6 1;
#X connect 9 0 6 2;
#X connect 10 0 13 0;
#X connect 11 0 6 0;
#X connect 11 1 8 0;
#X connect 11 2 9 0;
#X connect 11 3 10 0;
#X connect 12 0 4 0;
#X connect 13 0 3 0;
#X connect 13 0 6 3;
#X connect 13 1 12 0;
#X restore 60 222 pd is_in_border_area;
#N canvas 982 588 450 300 remove_blob 0;
#X obj 117 17 inlet;
#X obj 117 72 sel -1;
#X obj 150 102 t b f f;
#X msg 189 131 \; blob_ids \$1 -1 \; blob_x \$1 -1 \; blob_y \$1 -1
\; blob_times \$1 -1 \;;
#N canvas 339 520 450 300 index_of_blob 0;
#X obj 84 19 inlet;
#X obj 291 493 outlet;
#X obj 84 179 until;
#X obj 84 92 arraysize blob_ids;
#X obj 84 151 t f b;
#X floatatom 229 93 5 0 0 0 - - -;
#X msg 306 94 -1;
#X floatatom 306 132 5 0 0 0 - - -;
#X obj 84 211 f;
#X obj 140 210 + 1;
#X msg 140 179 0;
#X obj 118 311 tabread blob_ids;
#X obj 118 367 sel -1;
#X obj 118 339 expr if ($f1 == $f2 \, $f3 \, -1);
#X obj 84 242 t f f f f;
#X obj 84 410 + 1;
#X obj 84 120 t f f;
#X floatatom 20 175 5 0 0 0 - - -;
#X obj 84 434 sel;
#X obj 84 48 t b f b;
#X obj 291 467 f;
#X connect 0 0 19 0;
#X connect 2 0 8 0;
#X connect 3 0 16 0;
#X connect 4 0 2 0;
#X connect 4 1 10 0;
#X connect 5 0 13 1;
#X connect 6 0 7 0;
#X connect 7 0 20 1;
#X connect 8 0 14 0;
#X connect 9 0 8 1;
#X connect 10 0 8 1;
#X connect 11 0 13 0;
#X connect 12 1 7 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 14 1 9 0;
#X connect 14 2 11 0;
#X connect 14 3 13 2;
#X connect 15 0 18 0;
#X connect 16 0 4 0;
#X connect 16 1 17 0;
#X connect 17 0 18 1;
#X connect 18 0 20 0;
#X connect 19 0 3 0;
#X connect 19 1 5 0;
#X connect 19 2 6 0;
#X connect 20 0 1 0;
#X restore 117 41 pd index_of_blob;
#N canvas 1394 796 450 300 debug_adjust_bounds 0;
#X obj 21 28 inlet;
#X text 21 12 bang:;
#X obj 21 58 t b b;
#X msg 21 615 \; blob_ids bounds 0 \$1 \$2 -1;
#X obj 21 579 pack f f;
#X obj 21 212 f;
#X obj 21 116 arraysize blob_ids;
#X msg 84 176 0;
#X obj 21 183 until;
#X obj 78 210 + 1;
#X obj 123 264 tabread blob_ids;
#X floatatom 247 374 5 0 0 0 - - -;
#X obj 123 292 expr if ($f1 > $f2 \, $f1 \, $f2);
#X floatatom 83 466 5 0 0 0 - - -;
#X obj 21 528 + 1;
#X obj 66 525 arraysize blob_ids;
#X obj 21 240 t f f f;
#X msg 247 187 1;
#X obj 21 442 sel -1;
#X obj 21 149 t f b b f;
#X obj 21 404 expr if ($f1 + 1 >= $f2 \, $f3 \, -1);
#X obj 341 579 pack f f;
#X obj 341 212 f;
#X msg 404 176 0;
#X obj 341 183 until;
#X obj 398 210 + 1;
#X floatatom 567 374 5 0 0 0 - - -;
#X obj 443 292 expr if ($f1 > $f2 \, $f1 \, $f2);
#X floatatom 374 476 5 0 0 0 - - -;
#X obj 341 528 + 1;
#X obj 341 240 t f f f;
#X msg 567 187 1;
#X obj 341 442 sel -1;
#X obj 341 149 t f b b f;
#X obj 341 404 expr if ($f1 + 1 >= $f2 \, $f3 \, -1);
#X obj 341 116 arraysize blob_times;
#X obj 443 264 tabread blob_times;
#X obj 386 525 arraysize blob_times;
#X msg 341 615 \; blob_times bounds 0 \$1 \$2 -1;
#X connect 0 0 2 0;
#X connect 2 0 35 0;
#X connect 2 0 6 0;
#X connect 2 1 37 0;
#X connect 2 1 15 0;
#X connect 4 0 3 0;
#X connect 5 0 16 0;
#X connect 6 0 19 0;
#X connect 7 0 5 1;
#X connect 8 0 5 0;
#X connect 9 0 5 1;
#X connect 10 0 12 0;
#X connect 11 0 12 1;
#X connect 11 0 20 2;
#X connect 12 0 11 0;
#X connect 14 0 4 0;
#X connect 15 0 4 1;
#X connect 16 0 20 0;
#X connect 16 1 9 0;
#X connect 16 2 10 0;
#X connect 17 0 11 0;
#X connect 18 1 13 0;
#X connect 18 1 14 0;
#X connect 19 0 8 0;
#X connect 19 1 7 0;
#X connect 19 2 17 0;
#X connect 19 3 20 1;
#X connect 20 0 18 0;
#X connect 21 0 38 0;
#X connect 22 0 30 0;
#X connect 23 0 22 1;
#X connect 24 0 22 0;
#X connect 25 0 22 1;
#X connect 26 0 27 1;
#X connect 26 0 34 2;
#X connect 27 0 26 0;
#X connect 29 0 21 0;
#X connect 30 0 34 0;
#X connect 30 1 25 0;
#X connect 30 2 36 0;
#X connect 31 0 26 0;
#X connect 32 1 28 0;
#X connect 32 1 29 0;
#X connect 33 0 24 0;
#X connect 33 1 23 0;
#X connect 33 2 31 0;
#X connect 33 3 34 1;
#X connect 34 0 32 0;
#X connect 35 0 33 0;
#X connect 36 0 27 0;
#X connect 37 0 21 1;
#X restore 151 261 pd debug_adjust_bounds;
#N canvas 416 111 450 300 remove_index 0;
#X obj 33 36 inlet;
#X text 32 17 index to remove:;
#X obj 52 86 arraysize blob_ids;
#X obj 52 112 until;
#X obj 52 138 f;
#X obj 101 137 + 1;
#X obj 67 375 tabread blob_ids;
#X obj 67 398 tabwrite blob_ids;
#X obj 82 323 tabread blob_x;
#X obj 97 296 tabwrite blob_y;
#X obj 82 346 tabwrite blob_x;
#X obj 97 273 tabread blob_y;
#X floatatom 199 86 5 0 0 0 - - -;
#X obj 127 189 - 1;
#X obj 33 60 t b b f;
#X obj 33 422 arraysize blob_ids;
#X obj 33 448 - 1;
#X obj 52 165 t f f f f f f;
#X msg 33 475 \; blob_ids resize \$1 \; blob_x resize \$1 \; blob_y
resize \$1 \; blob_times resize \$1;
#X obj 112 222 tabread blob_times;
#X obj 112 245 tabwrite blob_times;
#X connect 0 0 14 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 17 0;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 8 0 10 0;
#X connect 11 0 9 0;
#X connect 12 0 5 0;
#X connect 13 0 20 1;
#X connect 13 0 9 1;
#X connect 13 0 10 1;
#X connect 13 0 7 1;
#X connect 14 0 15 0;
#X connect 14 1 2 0;
#X connect 14 2 12 0;
#X connect 15 0 16 0;
#X connect 16 0 18 0;
#X connect 17 0 5 0;
#X connect 17 1 6 0;
#X connect 17 2 8 0;
#X connect 17 3 11 0;
#X connect 17 4 19 0;
#X connect 17 5 13 0;
#X connect 19 0 20 0;
#X restore 169 218 pd remove_index;
#X connect 0 0 4 0;
#X connect 1 1 2 0;
#X connect 2 0 5 0;
#X connect 2 1 6 0;
#X connect 2 2 3 0;
#X connect 4 0 1 0;
#X restore 126 349 pd remove_blob;
#X obj 238 288 older_than_threshold;
#X connect 0 0 3 0;
#X connect 1 0 15 1;
#X connect 2 0 10 1;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 13 0;
#X connect 6 0 4 0;
#X connect 6 1 7 0;
#X connect 7 0 5 1;
#X connect 8 0 5 1;
#X connect 9 1 10 0;
#X connect 10 0 11 0;
#X connect 11 1 16 0;
#X connect 12 0 17 1;
#X connect 13 0 8 0;
#X connect 13 1 15 0;
#X connect 13 2 17 0;
#X connect 14 1 16 0;
#X connect 15 0 9 0;
#X connect 17 0 14 0;
#X restore 263 942 pd blob_lists;
#N canvas 713 177 233 399 process_blobs 0;
#X obj 18 13 inlet;
#X obj 45 74 list split 8;
#X obj 162 14 inlet;
#X obj 45 230 sel -1;
#X obj 102 166 t f f f;
#X obj 45 165 t f f f;
#X obj 18 50 t b a;
#N canvas 807 107 534 676 id_of_blob_by_pos 0;
#X obj 80 18 inlet;
#X obj 244 18 inlet;
#X obj 413 18 inlet;
#X obj 80 110 arraysize blob_ids;
#X obj 80 194 until;
#X obj 80 167 t f b;
#X msg 147 195 0;
#X obj 80 221 f;
#X obj 137 221 + 1;
#X obj 111 324 tabread blob_x;
#X obj 229 324 tabread blob_y;
#X floatatom 126 81 5 0 0 0 - - -;
#X floatatom 261 73 5 0 0 0 - - -;
#X floatatom 437 75 5 0 0 0 - - -;
#X obj 111 351 -;
#X obj 111 377 abs;
#X obj 229 351 -;
#X obj 229 377 abs;
#X obj 161 420 +;
#X msg 317 179 -1;
#X obj 80 251 t f f f f f;
#X obj 80 138 t f f;
#X obj 80 530 + 1;
#X obj 80 552 sel;
#X floatatom 21 297 5 0 0 0 - - -;
#X msg 349 179 10;
#X obj 212 280 tabread blob_ids;
#X obj 80 48 t b f b b;
#X floatatom 347 426 5 0 0 0 - - -;
#X obj 302 644 outlet;
#X floatatom 317 587 5 0 0 0 - - -;
#X obj 302 618 f;
#X obj 194 545 f;
#X obj 161 462 expr if ($f1 < $f2 && $f1 < $f3 \, $f1 \, -1) \;;
#X obj 161 493 sel -1;
#X obj 194 519 t b f;
#X connect 0 0 27 0;
#X connect 1 0 12 0;
#X connect 1 0 16 1;
#X connect 2 0 13 0;
#X connect 2 0 33 2;
#X connect 3 0 21 0;
#X connect 4 0 7 0;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 7 1;
#X connect 7 0 20 0;
#X connect 8 0 7 1;
#X connect 9 0 14 0;
#X connect 10 0 16 0;
#X connect 11 0 14 1;
#X connect 14 0 15 0;
#X connect 15 0 18 0;
#X connect 16 0 17 0;
#X connect 17 0 18 1;
#X connect 18 0 33 0;
#X connect 19 0 30 0;
#X connect 20 0 22 0;
#X connect 20 1 8 0;
#X connect 20 2 9 0;
#X connect 20 3 10 0;
#X connect 20 4 26 0;
#X connect 21 0 5 0;
#X connect 21 1 24 0;
#X connect 22 0 23 0;
#X connect 23 0 31 0;
#X connect 24 0 23 1;
#X connect 25 0 28 0;
#X connect 26 0 32 1;
#X connect 27 0 3 0;
#X connect 27 1 11 0;
#X connect 27 2 19 0;
#X connect 27 3 25 0;
#X connect 28 0 33 1;
#X connect 30 0 31 1;
#X connect 31 0 29 0;
#X connect 32 0 30 0;
#X connect 33 0 34 0;
#X connect 34 1 35 0;
#X connect 35 0 32 0;
#X connect 35 1 28 0;
#X restore 45 200 pd id_of_blob_by_pos;
#X obj 79 96 route list;
#X obj 45 124 unpack f f;
#N canvas 1191 689 450 300 change_blob 0;
#X obj 15 29 inlet;
#X text 15 9 id:;
#X obj 119 30 inlet;
#X obj 220 31 inlet;
#X text 119 10 new x:;
#X text 220 11 new y:;
#X obj 15 64 index_of_blob;
#X obj 15 95 sel -1;
#X obj 106 310 tabwrite blob_x;
#X obj 207 311 tabwrite blob_y;
#X obj 75 410 tabwrite blob_times;
#X obj 48 312 get_time;
#X obj 48 179 t b b f;
#X obj 48 341 t b f;
#X obj 48 431 debug_adjust_bounds;
#X obj 207 290 f;
#X obj 106 287 f;
#X connect 0 0 6 0;
#X connect 2 0 16 1;
#X connect 3 0 15 1;
#X connect 6 0 7 0;
#X connect 7 1 12 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 12 1 16 0;
#X connect 12 1 15 0;
#X connect 12 2 10 1;
#X connect 12 2 9 1;
#X connect 12 2 8 1;
#X connect 13 0 14 0;
#X connect 13 1 10 0;
#X connect 15 0 9 0;
#X connect 16 0 8 0;
#X restore 78 267 pd change_blob;
#N canvas 1077 525 450 300 draw_blobs 0;
#X obj 22 14 inlet;
#X obj 22 39 arraysize blob_ids;
#X obj 22 63 t f b;
#X obj 22 88 until;
#X obj 22 114 f;
#X msg 64 87 0;
#X obj 49 163 tabread blob_ids;
#X obj 22 139 t f f;
#X obj 64 113 + 1;
#N canvas 1166 204 450 582 draw_blob 0;
#X obj 64 14 inlet;
#X obj 64 73 index_of_blob;
#X obj 188 135 tabread blob_y;
#X obj 83 135 tabread blob_x;
#X obj 188 159 * -6;
#X obj 188 183 + 3;
#X obj 64 240 translateXYZ;
#X obj 64 263 colorRGB 1 0.5 1;
#X obj 83 182 - 4;
#X obj 83 158 * 8;
#X obj 64 104 t b f f;
#X obj 64 377 colorRGB 0 1 0.5;
#X obj 78 405 loadbang;
#X msg 78 428 font Vera.ttf;
#X obj 64 472 text3d \$1;
#X obj 64 44 t f f;
#X floatatom 308 130 5 0 0 0 - - -;
#X obj 64 309 rectangle 0.01 0.6;
#X obj 64 286 rectangle 0.6 0.01;
#X msg 115 451 9;
#X obj 64 350 translateXYZ 0.2 0.4 0;
#X obj 64 217 gemhead 90;
#X connect 0 0 15 0;
#X connect 1 0 10 0;
#X connect 2 0 4 0;
#X connect 3 0 9 0;
#X connect 4 0 5 0;
#X connect 5 0 6 2;
#X connect 6 0 7 0;
#X connect 7 0 18 0;
#X connect 8 0 6 1;
#X connect 9 0 8 0;
#X connect 10 0 21 0;
#X connect 10 1 3 0;
#X connect 10 2 2 0;
#X connect 11 0 14 0;
#X connect 12 0 13 0;
#X connect 12 0 19 0;
#X connect 13 0 14 0;
#X connect 15 0 1 0;
#X connect 15 1 16 0;
#X connect 16 0 14 0;
#X connect 17 0 20 0;
#X connect 18 0 17 0;
#X connect 19 0 14 1;
#X connect 20 0 11 0;
#X connect 21 0 6 0;
#X restore 88 215 pd draw_blob;
#X obj 49 186 moses 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 5 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X connect 6 0 10 0;
#X connect 7 0 8 0;
#X connect 7 1 6 0;
#X connect 8 0 4 1;
#X connect 10 1 9 0;
#X restore 18 345 pd draw_blobs;
#N canvas 1067 734 450 300 add_blob 0;
#X obj 229 29 inlet;
#X obj 379 29 inlet;
#X text 379 9 pos_y:;
#X text 229 9 pos_x:;
#X obj 18 580 tabwrite blob_ids;
#X obj 90 273 + 1;
#X floatatom -9 534 5 0 0 0 - - -;
#X obj -24 29 inlet;
#X text -24 9 bang:;
#X obj 90 88 arraysize blob_ids;
#X obj -9 508 get_valid_id;
#X obj 90 246 t f f;
#X obj -24 56 t b b;
#X obj 229 580 tabwrite blob_x;
#X obj 229 553 spigot;
#X msg 291 529 1;
#X floatatom 229 506 5 0 0 0 - - -;
#X obj 229 56 t f b;
#X msg 256 528 0;
#X obj 209 467 t b b;
#X obj 316 263 t f;
#X obj 379 553 spigot;
#X msg 441 529 1;
#X floatatom 379 506 5 0 0 0 - - -;
#X msg 406 528 0;
#X obj 359 467 t b b;
#X obj 466 263 t f;
#X obj 379 580 tabwrite blob_y;
#X obj 379 56 t f b;
#X obj 90 114 sel 1;
#X obj 90 193 sel -1;
#X msg 90 218 0;
#X msg 123 218 1;
#X obj 90 167 tabread blob_ids;
#X msg 90 140 0;
#X obj -9 556 t f f;
#X obj -9 659 outlet;
#X obj -24 622 debug_adjust_bounds;
#X msg 90 299 \; blob_ids resize \$1 \; blob_x resize \$1 \; blob_y
resize \$1 \; blob_times resize \$1;
#X obj -24 345 t b b b b b;
#X obj 499 468 get_time;
#X obj 499 498 tabwrite blob_times;
#X obj 610 263 t f;
#X connect 0 0 17 0;
#X connect 1 0 28 0;
#X connect 5 0 38 0;
#X connect 6 0 35 0;
#X connect 7 0 12 0;
#X connect 9 0 29 0;
#X connect 10 0 6 0;
#X connect 11 0 5 0;
#X connect 11 1 4 1;
#X connect 11 1 20 0;
#X connect 11 1 26 0;
#X connect 11 1 42 0;
#X connect 12 0 39 0;
#X connect 12 1 9 0;
#X connect 14 0 13 0;
#X connect 14 0 18 0;
#X connect 15 0 14 1;
#X connect 16 0 14 0;
#X connect 17 0 16 0;
#X connect 17 1 18 0;
#X connect 18 0 14 1;
#X connect 19 0 16 0;
#X connect 19 1 15 0;
#X connect 20 0 13 1;
#X connect 21 0 27 0;
#X connect 21 0 24 0;
#X connect 22 0 21 1;
#X connect 23 0 21 0;
#X connect 24 0 21 1;
#X connect 25 0 23 0;
#X connect 25 1 22 0;
#X connect 26 0 27 1;
#X connect 28 0 23 0;
#X connect 28 1 24 0;
#X connect 29 0 34 0;
#X connect 29 1 11 0;
#X connect 30 0 31 0;
#X connect 30 1 32 0;
#X connect 31 0 11 0;
#X connect 32 0 11 0;
#X connect 33 0 30 0;
#X connect 34 0 33 0;
#X connect 35 0 36 0;
#X connect 35 1 4 0;
#X connect 39 0 37 0;
#X connect 39 1 10 0;
#X connect 39 2 19 0;
#X connect 39 3 25 0;
#X connect 39 4 40 0;
#X connect 40 0 41 0;
#X connect 42 0 41 1;
#X restore 45 315 pd add_blob;
#X connect 0 0 6 0;
#X connect 1 0 9 0;
#X connect 1 1 8 0;
#X connect 2 0 7 2;
#X connect 3 0 12 0;
#X connect 3 1 10 0;
#X connect 4 0 7 1;
#X connect 4 1 12 2;
#X connect 4 2 10 2;
#X connect 5 0 7 0;
#X connect 5 1 12 1;
#X connect 5 2 10 1;
#X connect 6 0 11 0;
#X connect 6 1 1 0;
#X connect 7 0 3 0;
#X connect 8 0 1 0;
#X connect 9 0 5 0;
#X connect 9 1 4 0;
#X restore 270 1062 pd process_blobs;
#X text 75 29 Tracking multible blobs keeping their ID;
#N canvas 974 377 450 300 separation 0;
#X obj 167 39 inlet;
#X obj 97 157 pix_separator;
#X obj 273 154 pix_separator;
#X obj 167 64 t a a;
#X obj 98 137 separator;
#X obj 271 134 separator;
#X obj 98 180 outlet;
#X obj 275 175 outlet;
#X connect 0 0 3 0;
#X connect 1 0 6 0;
#X connect 2 0 7 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X connect 4 0 1 0;
#X connect 5 0 2 0;
#X restore 32 419 pd separation ------;
#X msg 630 174 color 0.5 0.5 0.5 \, frame 25;
#X obj 32 752 translate -8 1 0 0;
#X connect 3 0 4 0;
#X connect 8 1 84 0;
#X connect 14 0 15 0;
#X connect 17 0 86 0;
#X connect 18 0 17 1;
#X connect 18 0 19 0;
#X connect 20 0 21 0;
#X connect 20 0 17 2;
#X connect 24 0 27 1;
#X connect 26 0 25 0;
#X connect 26 0 28 1;
#X connect 26 0 46 0;
#X connect 27 0 26 1;
#X connect 28 0 17 0;
#X connect 28 1 62 0;
#X connect 29 0 28 0;
#X connect 30 0 28 0;
#X connect 30 1 26 0;
#X connect 34 0 76 0;
#X connect 38 0 74 0;
#X connect 41 0 38 2;
#X connect 41 0 40 0;
#X connect 42 0 38 1;
#X connect 42 0 39 0;
#X connect 46 0 27 0;
#X connect 47 0 29 0;
#X connect 50 0 74 0;
#X connect 51 0 74 0;
#X connect 52 0 51 0;
#X connect 53 0 50 0;
#X connect 62 0 23 0;
#X connect 63 0 13 0;
#X connect 64 0 8 0;
#X connect 64 1 83 0;
#X connect 66 0 69 0;
#X connect 66 0 83 1;
#X connect 67 0 68 0;
#X connect 67 0 83 2;
#X connect 72 0 73 0;
#X connect 72 0 84 1;
#X connect 74 0 3 0;
#X connect 74 1 64 0;
#X connect 75 0 30 0;
#X connect 77 0 78 0;
#X connect 77 0 83 3;
#X connect 82 0 76 0;
#X connect 86 0 88 0;
#X connect 86 1 38 0;
#X connect 87 0 76 0;
#X connect 88 0 14 0;
